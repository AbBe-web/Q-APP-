<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire Q-AAP+</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            width: 100%;
        }
        h1 {
            font-size: 24px;
            text-align: center;
            color: #333;
        }
        p, .result-message {
            font-size: 14px;
            text-align: center;
            color: #333;
        }
        .result-message {
            font-size: 16px;
            font-weight: bold;
        }
        .question {
            display: flex;
            align-items: flex-start;
            gap: 10px; /* Espace entre question et options Oui/Non */
            margin-bottom: 10px;
        }
        .question p {
            flex: 1; /* Le texte de la question occupe l'espace disponible */
            margin: 0;
        }
        label {
            margin-left: 0;
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        input[type="radio"], input[type="text"], textarea {
            margin-right: 5px;
        }
        input[type="text"], textarea {
            width: 100%;
        }
        textarea {
            font-size: 12px;
            height: 40px;
            resize: none;
        }
        button {
            background-color: #007BFF;
            color: white;
            padding: 10px;
            border: none;
            width: 100%;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 10px;
        }
        button:hover {
            background-color: #0056b3;
        }
        #agePrompt, #activityPrompt {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        #agePrompt p, #activityPrompt p {
            font-size: 14px;
            margin-bottom: 5px;
        }
        #agePrompt input,
        #agePrompt button {
            margin-top: 10px;
        }
        @media print {
            body, .container {
                background-color: white;
                box-shadow: none;
                padding: 5px;
                margin: 0;
                max-width: 100%;
                font-size: 12px;
            }
            .result-message {
                font-size: 14px;
            }
            button, .actions {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Questionnaire Q-AAP+</h1>
        <p>Ce questionnaire s'adresse aux personnes de 15 à 69 ans voulant augmenter leur niveau d'activité physique. Bravo à vous si vous êtes dans ce cas ;-) L'objectif est de savoir si vous avez besoin d'avoir un avis médical avant. Lisez les 7 questions avec attention et répondez à chacune, avec honnêteté, par oui ou non.</p>
        <form id="qAppPlusForm">
            <div class="question">
                <p>1. Votre médecin vous a dit que vous étiez atteint d’un problème cardiaque ou d’une hypertension ?</p>
                <label><input type="radio" name="q1" value="1"> Oui</label>
                <label><input type="radio" name="q1" value="0"> Non</label>
            </div>
            <div class="question">
                <p>2. Ressentez-vous une douleur à la poitrine au repos, ou au cours de vos activités quotidiennes ou lorsque vous faites de l’activité physique ?</p>
                <label><input type="radio" name="q2" value="1"> Oui</label>
                <label><input type="radio" name="q2" value="0"> Non</label>
            </div>
            <div class="question">
                <p>3. Éprouvez-vous des pertes d’équilibre liées à des étourdissements ou avez-vous perdu conscience au cours des 12 derniers mois ?</p>
                <label><input type="radio" name="q3" value="1"> Oui</label>
                <label><input type="radio" name="q3" value="0"> Non</label>
            </div>
            <!-- Les autres questions suivent la même structure -->
            <div class="personal-info">
                <input type="text" id="firstName" placeholder="Prénom" required>
                <input type="text" id="lastName" placeholder="Nom" required>
                <p>Date : <span id="currentDate"></span></p>
            </div>
            <button type="button" onclick="submitForm()">Soumettre</button>
            <div id="agePrompt" style="display: none;">
                <p>Quel est votre âge ?</p>
                <input type="number" id="userAge" placeholder="Âge" min="1">
                <button type="button" onclick="submitAge()">Soumettre</button>
            </div>
            <div id="activityPrompt" style="display: none;">
                <p>Quel niveau d'activité physique souhaitez-vous faire ?</p>
                <label><input type="radio" name="activityLevel" value="modéré"> Modéré</label>
                <label><input type="radio" name="activityLevel" value="intense"> Intense ou Très intense</label>
                <button type="button" onclick="submitActivity()">Soumettre</button>
            </div>
            <div class="result-message"></div>
            <div class="actions">
                <button type="button" onclick="printDocument()">Imprimer</button>
            </div>
        </form>
    </div>
    <script>
        // Ajout de la date actuelle
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('fr-FR');

        function submitForm() {
            const form = document.forms['qAppPlusForm'];
            let hasYes = Array.from(form.querySelectorAll('input[type="radio"]:checked')).some(radio => radio.value === '1');
            const resultMessage = document.querySelector('.result-message');

            if (hasYes) {
                resultMessage.textContent = "Vous avez répondu oui, à au moins une des questions. Consultez votre médecin avant d'augmenter votre niveau d'activité physique.";
            } else {
                document.getElementById('agePrompt').style.display = 'block';
            }
        }

        function submitAge() {
            const age = parseInt(document.getElementById('userAge').value);
            const resultMessage = document.querySelector('.result-message');

            if (isNaN(age) || age < 1) {
                alert("Veuillez entrer un âge valide.");
                return;
            }

            document.getElementById('agePrompt').style.display = 'none';

            if (age < 45) {
                resultMessage.textContent = "Vous pouvez donc augmenter progressivement votre niveau d'activité physique.";
            } else {
                document.getElementById('activityPrompt').style.display = 'block';
            }
        }

        function submitActivity() {
            const activityLevel = document.querySelector('input[name="activityLevel"]:checked');
            const resultMessage = document.querySelector('.result-message');

            if (!activityLevel) {
                alert("Veuillez sélectionner un niveau d'activité physique.");
                return;
            }

            document.getElementById('activityPrompt').style.display = 'none';

            if (activityLevel.value === 'modéré') {
                resultMessage.textContent = "Vous pouvez augmenter progressivement votre niveau d'activité physique.";
            } else {
                resultMessage.textContent = "Il est recommandé que vous consultiez votre médecin avant d'augmenter votre niveau d'activité physique.";
            }
        }

        function printDocument() {
            window.print();
        }
    </script>
</body>
</html>



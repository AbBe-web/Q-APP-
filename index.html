<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Questionnaire Q-AAP+</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f9;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
    }
    .container {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
      max-width: 600px;
      width: 100%;
    }
    h1 {
      font-size: 24px;
      text-align: center;
      color: #333;
      margin-bottom: 20px;
    }
    p, .result-message {
      font-size: 14px;
      text-align: center;
      color: #333;
      margin-bottom: 20px;
    }
    .question {
      margin-bottom: 15px;
    }
    .question p {
      font-weight: bold;
    }
    label {
      display: block;
      margin-bottom: 5px;
    }
    textarea {
      font-size: 12px;
      width: 100%;
      height: 40px;
      resize: none;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 5px;
      margin-top: 5px;
    }
    input[type="radio"] {
      margin-right: 5px;
    }
    .result-message {
      font-weight: bold;
    }
    .rgpd-banner {
      background-color: #e9f5ff;
      border: 1px solid #cce5ff;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 5px;
      font-size: 14px;
      color: #004085;
    }
    .rgpd-banner a {
      color: #004085;
      text-decoration: underline;
    }
    button {
      background-color: #007BFF;
      color: white;
      padding: 10px;
      border: none;
      width: 100%;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- Bandeau RGPD -->
    <div class="rgpd-banner">
      Ce questionnaire ne stocke pas vos données. Vous pouvez l'imprimer pour votre usage personnel ou médical.
      En continuant, vous acceptez que les données saisies puissent être affichées sur votre écran ou imprimées.
      <a href="https://abbe-web.github.io/Q-APP-/politique-confidentialite.html" target="_blank" rel="noopener noreferrer">Consulter la politique de confidentialité</a> |
      <a href="https://www.cnil.fr/fr/les-droits-pour-maitriser-vos-donnees-personnelles" target="_blank" rel="noopener noreferrer">Vos droits (CNIL)</a>
    </div>

    <h1>Questionnaire Q-AAP+</h1>
    <p>Ce questionnaire s'adresse aux personnes de 15 à 69 ans voulant augmenter leur niveau d'activité physique. L'objectif est de savoir s'il est souhaitable d'avoir un avis médical avant de vous lancer.</p>

    <form id="questionnaire">
      <div class="question">
        <p>1. Avez-vous un problème de santé pour lequel vous devriez faire de l’activité physique uniquement sous surveillance médicale ?</p>
        <label><input type="radio" name="q1" value="oui"> Oui</label>
        <label><input type="radio" name="q1" value="non"> Non</label>
      </div>

      <div class="question">
        <p>2. Ressentez-vous une douleur à la poitrine lorsque vous faites de l’activité physique ?</p>
        <label><input type="radio" name="q2" value="oui"> Oui</label>
        <label><input type="radio" name="q2" value="non"> Non</label>
      </div>

      <div class="question">
        <p>3. Durant le dernier mois, avez-vous ressenti une douleur à la poitrine lorsque vous ne faisiez pas d’activité physique ?</p>
        <label><input type="radio" name="q3" value="oui"> Oui</label>
        <label><input type="radio" name="q3" value="non"> Non</label>
      </div>

      <div class="question">
        <p>4. Perdez-vous l’équilibre à cause d’étourdissements ou avez-vous déjà perdu connaissance ?</p>
        <label><input type="radio" name="q4" value="oui"> Oui</label>
        <label><input type="radio" name="q4" value="non"> Non</label>
      </div>

      <div class="question">
        <p>5. Avez-vous un problème osseux ou articulaire qui pourrait s’aggraver par un changement dans votre pratique d’activité physique ?</p>
        <label><input type="radio" name="q5" value="oui"> Oui</label>
        <label><input type="radio" name="q5" value="non"> Non</label>
      </div>

      <div class="question">
        <p>6. Votre médecin vous prescrit-il actuellement des médicaments pour votre tension artérielle ou pour un problème cardiaque ?</p>
        <label><input type="radio" name="q6" value="oui"> Oui</label>
        <label><input type="radio" name="q6" value="non"> Non</label>
      </div>

      <div class="question">
        <p>7. Connaissez-vous une autre raison pour laquelle vous ne devriez pas faire d’activité physique ?</p>
        <label><input type="radio" name="q7" value="oui"> Oui</label>
        <label><input type="radio" name="q7" value="non"> Non</label>
      </div>

      <div class="question">
        <p>8. Avez-vous plus de 69 ans ?</p>
        <label><input type="radio" name="q8" value="oui"> Oui</label>
        <label><input type="radio" name="q8" value="non"> Non</label>
      </div>

      <div class="question">
        <p>9. Avez-vous moins de 15 ans ?</p>
        <label><input type="radio" name="q9" value="oui"> Oui</label>
        <label><input type="radio" name="q9" value="non"> Non</label>
      </div>

      <button type="button" onclick="afficherResultat()">Afficher le résultat</button>
    </form>

    <div id="resultat" class="result-message"></div>

  </div>

  <script>
    function afficherResultat() {
      const questions = document.querySelectorAll('form .question');
      let besoinAvisMedical = false;

      for (let i = 0; i < questions.length; i++) {
        const question = questions[i];
        const radios = question.querySelectorAll('input[type="radio"]');
        let reponse = "";

        radios.forEach(radio => {
          if (radio.checked) {
            reponse = radio.value;
          }
        });

        if (reponse === "oui") {
          besoinAvisMedical = true;
        }

        if (reponse === "") {
          document.getElementById("resultat").innerText = "Merci de répondre à toutes les questions.";
          return;
        }
      }

      if (besoinAvisMedical) {
        document.getElementById("resultat").innerText = "Un avis médical est recommandé avant d'augmenter votre activité physique.";
      } else {
        document.getElementById("resultat").innerText = "Vous pouvez commencer une activité physique progressivement et de manière sécuritaire.";
      }
    }
  </script>
</body>
</html>
